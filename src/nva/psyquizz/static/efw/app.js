webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("y9m4");var s=n("/5sW"),a=(n("n12u"),n("fx22"),n("gbyG"),n("Gh7F"),n("VjuZ"),{question:"",type:"",need_answers:!1,answers:[]});var i={methods:{showModal:function(){this.modalShown=!this.modalShown},delete_question:function(t){this.questions=this.questions.filter(function(e){return e!=t})},save_all:function(){var t=this,e="";this.questions.forEach(function(n){if(n.need_answers){var s=[];console.log(n.answers),n.answers.forEach(function(t){var e=t.value.trim();e.length>0&&s.push(e)}),e=n.question.trim()+" => "+n.type.trim()+"::"+s.join("::")}else e=n.question.trim()+" => "+n.type.trim();t.vv=e})},remove_answer:function(t){this.question.answers=this.question.answers.filter(function(e){return e!=t})},may_need_answers:function(t){this.question.need_answers=["choice","multi"].includes(this.question.type),this.question.need_answers||(this.question.answers=[])},save_question:function(){var t=!1;if(this.question.question.trim()||(t=!0,alert("Please fill the question.")),this.question.type.trim()){if(this.question.need_answers){var e=[];this.question.answers.forEach(function(t){var n=t.value.trim();n.length&&e.push(n)}),e.length<2&&(alert("Please add at least 2 non-empty choices."),t=!0)}}else t=!0,alert("Please select a type of question.");t||(this.questions.push(Object.assign({},this.question)),this.question.question="",this.question.type="",this.question.needs_anwer=!1,this.question.answers=[],this.save_all())},add_answer:function(){this.question.answers.push(Object({value:""}))}},data:function(){return{vv:"",modalShown:!1,questions:[],question:a}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{attrs:{type:"hidden",name:"form.field.extra_questions"},domProps:{value:t.vv}}),t.questions.length>0?n("table",{staticClass:"table table-striped table-bordered"},[t._m(0),t._l(t.questions,function(e){return n("tr",{key:e.question},[n("td",[t._v(t._s(e.question))]),"choice"==e.type?n("td",[t._v("eine Antwort")]):t._e(),"multi"==e.type?n("td",[t._v("mehrere Antworten")]):t._e(),n("td",t._l(e.answers,function(e){return n("ul",{key:e.value},[n("li",[t._v(t._s(e.value))])])}))])})],2):t._e(),n("button",{staticClass:"btn btn-default",attrs:{type:"button","data-toggle":"modal","data-target":"#extra_fields_widget"}},[t._v("\n      Zusatzfragen hinzufügen\n    ")]),n("div",{staticClass:"modal fade",class:{in:t.modalShown},attrs:{tabindex:"-1",role:"dialog",id:"extra_fields_widget"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(1),n("div",{staticClass:"modal-body"},[n("table",{staticClass:"table table-striped table-bordered"},[t._m(2),t._l(t.questions,function(e){return n("tr",{key:e.question},[n("td",[t._v(t._s(e.question))]),n("td",[t._v(t._s(e.type))]),n("td",t._l(e.answers,function(e){return n("ul",{key:e.value},[n("li",[t._v(t._s(e.value))])])})),n("td",[n("a",{on:{click:function(n){t.delete_question(e)}}},[t._v("löschen")])])])})],2),n("form",{on:{submit:function(e){return e.preventDefault(),t.save_question(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputName2"}},[t._v("Frage")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.question.question,expression:"question.question"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Bitte geben Sie hier Ihre Frage ein"},domProps:{value:t.question.question},on:{input:function(e){e.target.composing||t.$set(t.question,"question",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail2"}},[t._v("Antwortformat")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.question.type,expression:"question.type"}],staticClass:"form-control",attrs:{id:"exampleInputEmail2"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.question,"type",e.target.multiple?n:n[0])},t.may_need_answers]}},[n("option",{attrs:{value:"choice",selected:"selected"}},[t._v("\n\t\t    nur eine Antwort möglich\n\t\t  ")]),n("option",{attrs:{value:"multi"}},[t._v("mehrere Antworten möglich")])])]),t.question.need_answers?n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail2"}},[t._v("Antworten")]),t._l(t.question.answers,function(e){return n("div",{key:e},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"answer.value"}],domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}),n("button",{staticClass:"btn btn-default",on:{click:function(n){n.preventDefault(),t.remove_answer(e)}}},[n("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}})])])}),n("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.add_answer(e)}}},[t._v("\n\t\t  Antwort hinzufügen\n\t\t")])],2):t._e(),n("hr"),t._m(3)])]),t._m(4)])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Frage")]),n("th",[t._v("Typ")]),n("th",[t._v("Antwort(en)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),n("h4",{staticClass:"modal-title"},[t._v("Zusatzfrage erfassen")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Frage")]),n("th",[t._v("Typ")]),n("th",[t._v("Antwort(en)")]),n("th")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("\n\t\t  Frage Speichern\n\t\t")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Schließen")])])}],u=n("XyMi");function l(t){n("YFOe")}var c=!1,d=l,v="data-v-0e250bda",m=null,f=Object(u["a"])(i,o,r,c,d,v,m),_=f.exports,h=n("PXmv");n("CLCt");s["a"].use(h["a"]),s["a"].config.productionTip=!1,s["a"].config.ignoredElements=["extra-fields-widget"],s["a"].customElement("extra-fields-widget",_,{})},YFOe:function(t,e){}},[0]);